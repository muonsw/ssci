!function(n){"use strict";var r,o=120,u=1,M=1e6,i=-7,f=21,a="[big.js] ",h=a+"Invalid ",E=h+"decimal places",c=h+"rounding mode",x=a+"Division by zero",s={},I=void 0,l=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function P(n,r,t,e){var o=n.c,u=n.e+r+1;if(u<o.length){if(1===t)e=5<=o[u];else if(2===t)e=5<o[u]||5==o[u]&&(e||u<0||o[u+1]!==I||1&o[u-1]);else if(3===t)e=e||!!o[0];else if(e=!1,0!==t)throw Error(c);if(u<1)o.length=1,o[0]=e?(n.e=-r,1):n.e=0;else{if(o.length=u--,e)for(;9<++o[u];)o[u]=0,u--||(++n.e,o.unshift(1));for(u=o.length;!o[--u];)o.pop()}}else if(t<0||3<t||t!==~~t)throw Error(c);return n}function t(n,r,t,e){var o,u,i=n.constructor,f=!n.c[0];if(t!==I){if(t!==~~t||t<(3==r)||M<t)throw Error(3==r?h+"precision":E);for(t=e-(n=new i(n)).e,n.c.length>++e&&P(n,t,i.RM),2==r&&(e=n.e+t+1);n.c.length<e;)n.c.push(0)}if(o=n.e,t=(u=n.c.join("")).length,2!=r&&(1==r||3==r&&e<=o||o<=i.NE||o>=i.PE))u=u.charAt(0)+(1<t?"."+u.slice(1):"")+(o<0?"e":"e+")+o;else if(o<0){for(;++o;)u="0"+u;u="0."+u}else if(0<o)if(++o>t)for(o-=t;o--;)u+="0";else o<t&&(u=u.slice(0,o)+"."+u.slice(o));else 1<t&&(u=u.charAt(0)+"."+u.slice(1));return n.s<0&&(!f||4==r)?"-"+u:u}s.abs=function(){var n=new this.constructor(this);return n.s=1,n},s.cmp=function(n){var r,t=this,e=t.c,o=(n=new t.constructor(n)).c,u=t.s,i=n.s,f=t.e,a=n.e;if(!e[0]||!o[0])return e[0]?u:o[0]?-i:0;if(u!=i)return u;if(r=u<0,f!=a)return a<f^r?1:-1;for(i=(f=e.length)<(a=o.length)?f:a,u=-1;++u<i;)if(e[u]!=o[u])return e[u]>o[u]^r?1:-1;return f==a?0:a<f^r?1:-1},s.div=function(n){var r=this,t=r.constructor,e=r.c,o=(n=new t(n)).c,u=r.s==n.s?1:-1,i=t.DP;if(i!==~~i||i<0||M<i)throw Error(E);if(!o[0])throw Error(x);if(!e[0])return new t(0*u);var f,a,h,c,s,l=o.slice(),g=f=o.length,p=e.length,m=e.slice(0,f),v=m.length,w=n,d=w.c=[],b=0,y=i+(w.e=r.e-n.e)+1;for(w.s=u,u=y<0?0:y,l.unshift(0);v++<f;)m.push(0);do{for(h=0;h<10;h++){if(f!=(v=m.length))c=v<f?1:-1;else for(s=-1,c=0;++s<f;)if(o[s]!=m[s]){c=o[s]>m[s]?1:-1;break}if(!(c<0))break;for(a=v==f?o:l;v;){if(m[--v]<a[v]){for(s=v;s&&!m[--s];)m[s]=9;--m[s],m[v]+=10}m[v]-=a[v]}for(;!m[0];)m.shift()}d[b++]=c?h:++h,m[0]&&c?m[v]=e[g]||0:m=[e[g]]}while((g++<p||m[0]!==I)&&u--);return d[0]||1==b||(d.shift(),w.e--),y<b&&P(w,i,t.RM,m[0]!==I),w},s.eq=function(n){return!this.cmp(n)},s.gt=function(n){return 0<this.cmp(n)},s.gte=function(n){return-1<this.cmp(n)},s.lt=function(n){return this.cmp(n)<0},s.lte=function(n){return this.cmp(n)<1},s.minus=s.sub=function(n){var r,t,e,o,u=this,i=u.constructor,f=u.s,a=(n=new i(n)).s;if(f!=a)return n.s=-a,u.plus(n);var h=u.c.slice(),c=u.e,s=n.c,l=n.e;if(!h[0]||!s[0])return s[0]?(n.s=-a,n):new i(h[0]?u:0);if(f=c-l){for((e=(o=f<0)?(f=-f,h):(l=c,s)).reverse(),a=f;a--;)e.push(0);e.reverse()}else for(t=((o=h.length<s.length)?h:s).length,f=a=0;a<t;a++)if(h[a]!=s[a]){o=h[a]<s[a];break}if(o&&(e=h,h=s,s=e,n.s=-n.s),0<(a=(t=s.length)-(r=h.length)))for(;a--;)h[r++]=0;for(a=r;f<t;){if(h[--t]<s[t]){for(r=t;r&&!h[--r];)h[r]=9;--h[r],h[t]+=10}h[t]-=s[t]}for(;0===h[--a];)h.pop();for(;0===h[0];)h.shift(),--l;return h[0]||(n.s=1,h=[l=0]),n.c=h,n.e=l,n},s.mod=function(n){var r,t=this,e=t.constructor,o=t.s,u=(n=new e(n)).s;if(!n.c[0])throw Error(x);return t.s=n.s=1,r=1==n.cmp(t),t.s=o,n.s=u,r?new e(t):(o=e.DP,u=e.RM,e.DP=e.RM=0,t=t.div(n),e.DP=o,e.RM=u,this.minus(t.times(n)))},s.plus=s.add=function(n){var r,t=this,e=t.constructor,o=t.s,u=(n=new e(n)).s;if(o!=u)return n.s=-u,t.minus(n);var i=t.e,f=t.c,a=n.e,h=n.c;if(!f[0]||!h[0])return h[0]?n:new e(f[0]?t:0*o);if(f=f.slice(),o=i-a){for((r=0<o?(a=i,h):(o=-o,f)).reverse();o--;)r.push(0);r.reverse()}for(f.length-h.length<0&&(r=h,h=f,f=r),o=h.length,u=0;o;f[o]%=10)u=(f[--o]=f[o]+h[o]+u)/10|0;for(u&&(f.unshift(u),++a),o=f.length;0===f[--o];)f.pop();return n.c=f,n.e=a,n},s.pow=function(n){var r=this,t=new r.constructor(1),e=t,o=n<0;if(n!==~~n||n<-1e6||1e6<n)throw Error(h+"exponent");for(o&&(n=-n);1&n&&(e=e.times(r)),n>>=1;)r=r.times(r);return o?t.div(e):e},s.round=function(n,r){var t=this.constructor;if(n===I)n=0;else if(n!==~~n||n<-M||M<n)throw Error(E);return P(new t(this),n,r===I?t.RM:r)},s.sqrt=function(){var n,r,t,e=this,o=e.constructor,u=e.s,i=e.e,f=new o(.5);if(!e.c[0])return new o(e);if(u<0)throw Error(a+"No square root");for(i=(n=0===(u=Math.sqrt(e+""))||u===1/0?((r=e.c.join("")).length+i&1||(r+="0"),i=((i+1)/2|0)-(i<0||1&i),new o(((u=Math.sqrt(r))==1/0?"1e":(u=u.toExponential()).slice(0,u.indexOf("e")+1))+i)):new o(u)).e+(o.DP+=4);t=n,n=f.times(t.plus(e.div(t))),t.c.slice(0,i).join("")!==n.c.slice(0,i).join(""););return P(n,o.DP-=4,o.RM)},s.times=s.mul=function(n){var r,t=this.constructor,e=this.c,o=(n=new t(n)).c,u=e.length,i=o.length,f=this.e,a=n.e;if(n.s=this.s==n.s?1:-1,!e[0]||!o[0])return new t(0*n.s);for(n.e=f+a,u<i&&(r=e,e=o,o=r,a=u,u=i,i=a),r=new Array(a=u+i);a--;)r[a]=0;for(f=i;f--;){for(i=0,a=u+f;f<a;)i=r[a]+o[f]*e[a-f-1]+i,r[a--]=i%10,i=i/10|0;r[a]=(r[a]+i)%10}for(i?++n.e:r.shift(),f=r.length;!r[--f];)r.pop();return n.c=r,n},s.toExponential=function(n){return t(this,1,n,n)},s.toFixed=function(n){return t(this,2,n,this.e+n)},s.toPrecision=function(n){return t(this,3,n,n-1)},s.toString=function(){return t(this)},s.valueOf=s.toJSON=function(){return t(this,4)},(r=function t(){function e(n){var r=this;if(!(r instanceof e))return n===I?t():new e(n);n instanceof e?(r.s=n.s,r.e=n.e,r.c=n.c.slice()):function(n,r){var t,e,o;if(0===r&&1/r<0)r="-0";else if(!l.test(r+=""))throw Error(h+"number");for(n.s="-"==r.charAt(0)?(r=r.slice(1),-1):1,-1<(t=r.indexOf("."))&&(r=r.replace(".","")),0<(e=r.search(/e/i))?(t<0&&(t=e),t+=+r.slice(e+1),r=r.substring(0,e)):t<0&&(t=r.length),o=r.length,e=0;e<o&&"0"==r.charAt(e);)++e;if(e==o)n.c=[n.e=0];else{for(;0<o&&"0"==r.charAt(--o););for(n.e=t-e-1,n.c=[],t=0;e<=o;)n.c[t++]=+r.charAt(e++)}}(r,n),r.constructor=e}return e.prototype=s,e.DP=o,e.RM=u,e.NE=i,e.PE=f,e.version="5.2.2",e}()).default=r.Big=r,"function"==typeof define&&define.amd?define(function(){return r}):"undefined"!=typeof module&&module.exports?module.exports=r:n.Big=r}(this);var ssci=function(){"use strict";var M=M||{};function n(n,r,t){return 1/Math.sqrt(2*Math.PI)*Math.exp(-Math.pow(n-r,2)/(2*Math.pow(t,2)))}function t(n,r,t){return 1<Math.abs((n-r)/t)?0:.75*(1-Math.pow((n-r)/t,2))}function e(n,r,t){return 1/(Math.exp((n-r)/t)+Math.exp(-(n-r)/t))}function o(n,r,t){return 1<Math.abs((n-r)/t)?0:.5}function u(n,r,t){return 1<Math.abs((n-r)/t)?0:1-Math.abs((n-r)/t)}function i(n,r,t){return 1<Math.abs((n-r)/t)?0:.9375*Math.pow(1-Math.pow((n-r)/t,2),2)}function w(n,r,t){return 1<Math.abs((n-r)/t)?0:35/32*Math.pow(1-Math.pow((n-r)/t,2),3)}function d(n,r,t){return 1<Math.abs((n-r)/t)?0:Math.PI/4*Math.cos(Math.PI/2*((n-r)/t))}function b(n,r,t){return 1<Math.abs((n-r)/t)?0:70/81*Math.pow(1-Math.pow(Math.abs((n-r)/t),3),3)}function y(n,r,t){var e=Math.abs((r-n)/t);return.5*Math.exp(-e/Math.SQRT2)*Math.sin(e/Math.SQRT2+Math.PI/4)}function f(n,r,t){var e=[1/3,2/3],o=[(r[0]-n[0])*e[0]+n[0],(r[0]-n[0])*e[1]+n[0]],u=[t[0]+t[1]*(o[0]-n[0])+t[2]*Math.pow(o[0]-n[0],2)+t[3]*Math.pow(o[0]-n[0],3),t[0]+t[1]*(o[1]-n[0])+t[2]*Math.pow(o[1]-n[0],2)+t[3]*Math.pow(o[1]-n[0],3)],i=[(u[0]-Math.pow(1-e[0],3)*n[1]-Math.pow(e[0],3)*r[1])/(3*(1-e[0])*e[0]),(u[1]-Math.pow(1-e[1],3)*n[1]-Math.pow(e[1],3)*r[1])/(3*(1-e[1])*e[1])],f=[];return f[0]=1/(1-e[1]/e[0])*(i[1]-e[1]*i[0]/e[0]),f[1]=(i[0]-(1-e[0])*f[0])/e[0],[[o[0],f[0]],[o[1],f[1]]]}return M.smooth={},M.season={},M.reg={},M.fore={},M.ts={},M.fore.expon=function(){var t=[],e=0,o=[],u=[],i=0,f=.3,a=function(n){return n[0]},h=function(n){return n[1]};function r(){var n,r;for(o=[],r=t.map(function(n){return[a(n),h(n)]}),e=r.length,n=1;n<e+1;n++)n<2?o.push([r[n][0],r[n-1][1]]):n===e?o.push([+r[n-1][0]+(+r[n-1][0]-r[n-2][0]),r[n-1][1]*f+o[n-2][1]*(1-f)]):o.push([r[n][0],r[n-1][1]*f+o[n-2][1]*(1-f)]);for(n=1;n<e;n++)u.push(r[n][1]-o[n-1][1]),i+=Math.pow(r[n][1]-o[n-1][1],2)}return r.x=function(n){return arguments.length?(a=n,r):a},r.y=function(n){return arguments.length?(h=n,r):h},r.data=function(n){return t=n,r},r.factor=function(n){return arguments.length?(f="number"!=typeof n?(console.log("Factor appears to not be a number - changed to 0.3"),.3):1<n||n<0?(console.log("Factor >1 or <0 - changed to 0.3"),.3):n,r):f},r.output=function(){return o},r.residuals=function(){return u},r.sumSquares=function(){return i},r},M.fore.holt=function(){var r=[],t=[],e=0,o=[],u=[],i=0,f=.3,a=.3,h=function(n){return n[0]},c=function(n){return n[1]},s=[],l=[],g={1:function(){return 1/3*(t[1][1]-t[0][1])+(t[2][1]-t[1][1])+(t[3][1]-t[2][1])},2:function(){return M.reg.polyBig(t,1).constants[1]*((t[e-1][0]-t[0][0])/(e-1))},3:function(){return t[1][1]-t[0][1]},4:function(){return(t[e-1][1]-t[0][1])/(e-1)}};function p(){var n;for(o=[],t=r.map(function(n){return[h(n),c(n)]}),e=t.length,o.push(t[0]),0===s.length&&s.push(t[0][1]),0===l.length&&l.push(g[1]),n=1;n<e;n++)s.push(f*t[n][1]+(1-f)*(s[n-1]+l[n-1])),l.push(a*(s[n]-s[n-1])+(1-a)*l[n-1]),o.push([t[n][0],s[n-1]+l[n-1]]);for(i=0,n=1;n<e;n++)u.push(t[n][1]-o[n][1]),i+=Math.pow(t[n][1]-o[n][1],2)}return p.initialLevel=function(n){return arguments.length?((s=[]).push(n),p):s[0]},p.initialTrend=function(n){return arguments.length?((l=[]).push(n),p):l[0]},p.x=function(n){return arguments.length?(h=n,p):h},p.y=function(n){return arguments.length?(c=n,p):c},p.data=function(n){return r=n,p},p.factor=function(n){return arguments.length?(f="number"!=typeof n?(console.log("Factor appears to not be a number - changed to 0.3"),.3):1<n||n<0?(console.log("Factor >1 or <0 - changed to 0.3"),.3):n,p):f},p.output=function(){return o},p.residuals=function(){return u},p.sumSquares=function(){return i},p.trend=function(n){return arguments.length?(a="number"!=typeof n?(console.log("Trend factor appears to not be a number - changed to 0.3"),.3):1<n||n<0?(console.log("Trend >1 or <0 - changed to 0.3"),.3):n,p):a},p.forecast=function(n){if("number"!=typeof n)throw new Error("Input is not a number");return s[s.length-1]+n*l[l.length-1]},p},M.fore.holtWinter=function(){var r=[],i=[],t=.3,e=.3,o=.3,f=12,u=0,a=function(n){return n[0]},h=function(n){return n[1]},c=0,s=[],l=[],g=[],p=[],m=[];function v(){var n;for(s=[],i=r.map(function(n){return[a(n),h(n)]}),c=i.length,0===g.length&&function(){var n,r=0;for(n=0;n<f;n++)r+=i[n][1];for(n=0;n<f;n++)g.push(r/f)}(),0===p.length&&function(){var n,r=0;for(n=0;n<f;n++)r+=(i[n+f][1]-i[n][1])/f;for(n=0;n<f;n++)p.push(r*(1/f))}(),0===m.length&&function(){var n,r,t=Math.floor(c/f),e=[];for(n=0;n<t;n++){var o=0;for(r=0;r<f;r++)o+=i[r+n*f][1];o/=f,e.push(o)}for(r=0;r<f;r++){var u=0;for(n=0;n<t;n++)u+=i[r+n*f][1]/e[n];m.push(u/t)}}(),n=+f;n<c;n++)g.push(t*i[n][1]/m[n-f]+(1-t)*(g[n-1]+p[n-1])),p.push(e*(g[n]-g[n-1])+(1-e)*p[n-1]),m.push(o*i[n][1]/g[n]+(1-o)*m[n-f]),s.push([i[n][0],(g[n-1]+p[n-1])*m[n-f]]);for(n=+f;n<c;n++)l.push(i[n][1]-s[n-f][1]),u+=Math.pow(i[n][1]-s[n-f][1],2)}return v.initialLevel=function(n){if(!arguments.length)return g[0];g=[];for(var r=0;r<f;r++)g.push(n);return v},v.initialTrend=function(n){if(!arguments.length)return p[0];p=[];for(var r=0;r<f;r++)p.push(n);return v},v.initialSeason=function(n){return arguments.length&&Array.isArray(n)?n.length!==f?NaN:(m=[],m=n,v):m.slice(0,f)},v.period=function(n){return arguments.length?("number"!=typeof f&&(console.log("Period appears to not be a number - changed to 12"),f=12),f=n,v):f},v.data=function(n){if((c=(r=n).length)/2<=f)throw new Error("Not enough data to estimate forecasts - need 2*period of data");return v},v.x=function(n){return arguments.length?(a=n,v):a},v.y=function(n){return arguments.length?(h=n,v):h},v.output=function(){return s},v.outputY=function(){return s.map(function(n){return n[1]})},v.residuals=function(){return l},v.sumSquares=function(){return u},v.level=function(n){return 0===arguments.length?t:("number"!=typeof t&&(console.log("Factor appears to not be a number - changed to 0.3"),t=.3),t=1<t||t<0?(console.log("Factor >1 or <0 - changed to 0.3"),.3):n,v)},v.trend=function(n){return 0===arguments.length?e:("number"!=typeof e&&(console.log("Trend factor appears to not be a number - changed to 0.3"),e=.3),e=1<e||e<0?(console.log("Trend >1 or <0 - changed to 0.3"),.3):n,v)},v.season=function(n){return 0===arguments.length?o:("number"!=typeof o&&(console.log("Seasonal factor appears to not be a number - changed to 0.3"),o=.3),o=1<o||o<0?(console.log("Season >1 or <0 - changed to 0.3"),.3):n,v)},v.forecast=function(n){for(var r=[],t=i[1][0]-i[0][0],e=0;e<n;e++){var o=e%f+1;r.push([+i[c-1][0]+t*(e+1),(g[c-1]+(e+1)*p[c-1])*m[c-1-f+o]])}return r},v},M.reg.determinantBig=function(n){var r,t,e,o,u,i=[];r=(o=n.length)-2,u=new Big(0);for(var f=0;f<=r;f++){for(var a=[],h=0;h<=r;h++)a.push(new Big(0));i.push(a)}for(f=0;f<o;f++){for(var c=e=t=0;c<o;c++){for(var s=0;s<o;s++)s!==f&&c!==r&&(i[t][e]=new Big(n[s][c].valueOf())),s!==f&&t++;t=0,c!==r&&e++}u=0<r?u.plus(n[f][r].times(Math.pow(-1,f+r)).times(M.reg.determinantBig(i))):u.plus(n[f][r].times(Math.pow(-1,f+r)).times(i[0][0]))}return u},M.reg.polyBig=function(){var u,i,f,a,h=[],c=[],s=[],l=[],g=[],p=[],m=[],v=[],w=function(n){return n[0]},d=function(n){return n[1]},b=[],y=2;function r(){var n;for(h=[],n=b.map(function(n){return[w(n),d(n)]}),y>n.length-1&&(y=n.length-1,console.log("Order changed to "+(n.length-1))),i=0;i<n.length;i++){var r=[];r.push(new Big(+n[i][0])),r.push(new Big(+n[i][1])),v.push(r)}for(i=0;i<y+1;i++){var t=[],e=[];for(a=0;a<y+1;a++)t.push(new Big(0)),e.push(new Big(0));s.push(t),l.push(e),g.push(new Big(0))}for(i=0;i<y+1;i++)for(f=0;f<y+1;f++)for(a=0;a<n.length;a++)s[i][f]=s[i][f].plus(v[a][0].pow(i+f));for(f=0;f<y+1;f++)for(a=0;a<n.length;a++)g[f]=g[f].plus(v[a][0].pow(f).times(v[a][1]));if("0"===(u=M.reg.determinantBig(s)).valueOf())throw new Error("Determinant is zero. Fitted line is not calculable.");for(i=0;i<y+1;i++){for(f=0;f<y+1;f++)for(a=0;a<y+1;a++)l[f][a]=a===i?g[f]:s[f][a];p.push(M.reg.determinantBig(l).div(u)),m.push(parseFloat(p[i].valueOf()))}for(a=0;a<n.length;a++){var o=new Big(0);for(f=0;f<y+1;f++)o=o.plus(v[a][0].pow(f).times(p[f]));h.push([n[a][0],o.valueOf()]),c.push(n[a][1]-parseFloat(o.toString()))}}return r.order=function(n){return arguments.length?("number"!=typeof n&&(y=2),n<=0&&(y=2),y=n,r):y},r.output=function(){return h},r.x=function(n){return arguments.length?(w=n,r):w},r.y=function(n){return arguments.length?(d=n,r):d},r.data=function(n){return b=n,r},r.residuals=function(){return c},r.constants=function(){return m},r.forecast=function(n){if("number"!=typeof n)throw new Error("Input is not a number");for(var r=new Big(0),t=0;t<y+1;t++)r=r.plus(v[v.length-1][0].plus(n).pow(t).times(p[t]));return r},r},M.season.average=function(){var a,h=0,c=[],s=function(n){return n[0]},l=function(n){return n[1]},g=[],p=[];function r(){var n;if(c=[],n=g.map(function(n){return[s(n),l(n)]}),h=n.length,"object"!=typeof p||!Array.isArray(p))throw console.log(p),new Error("Invalid label parameter");if(p.length!==n.length)throw console.log(p),new Error("Labels array is not the same length as the data array");var r={},t={},e={},o=0,u=0;for(a=0;a<p.length;a++)p[a]in r?r[p[a]]=r[p[a]]+n[a][1]:r[p[a]]=n[a][1],p[a]in t?t[p[a]]=t[p[a]]+1:t[p[a]]=1,p[a]in e||(e[p[a]]=0),o+=n[a][1],u++;for(var i=Object.keys(e),f=0;f<i.length;f++)e[i[f]]=r[i[f]]*u/(t[i[f]]*o);for(a=0;a<h;a++)c.push([n[a][0],n[a][1]/e[p[a]]])}return r.labels=function(n){return p=n,r},r.output=function(){return c},r.x=function(n){return arguments.length?(s=n,r):s},r.y=function(n){return arguments.length?(l=n,r):l},r.data=function(n){return g=n,r},r},M.season.difference=function(){var t,e=0,o=[],u=[],i=function(n){return n[0]},f=function(n){return n[1]},a=[],h=12;function r(){var n;if(o=[],n=a.map(function(n){return[i(n),f(n)]}),(e=n.length)<h)throw new Error("Not enough data for this frequency");for(t=h;t<e;t++){for(var r=u[t]=0;r<h;r++)u[t]+=n[t-r][1];u[t]/=h}for(t=h;t<e;t++)o.push([n[t][0],n[t][1]-n[t-h][1]+u[t]])}return r.output=function(){return o},r.x=function(n){return arguments.length?(i=n,r):i},r.y=function(n){return arguments.length?(f=n,r):f},r.data=function(n){return a=n,r},r.frequency=function(n){return arguments.length?("number"!=typeof n&&(console.log("frequency appears to not be a number - changed to 12"),h=12),h=n,r):h},r},M.season.movingAverage=function(){var e,o=0,u=[],i=0,f=1,a=[],h=function(n){return n[0]},c=function(n){return n[1]},s=[],l=12,g=!0;function r(){var n;if(u=[],n=s.map(function(n){return[h(n),c(n)]}),(o=n.length)<l)throw new Error("Not enough data for this frequency");var r=Math.floor(l/2);for(e=0;e<l;e++)a[e]=1;for(e=l-1;e<o;e++){i=f=0;for(var t=e-(l-1);t<=e;t++)i+=n[t][1]*a[f],f++;g?u.push([n[e][0],i/l]):u.push([n[e-r+1][0],i/l])}}return r.end=function(n){return arguments.length?("boolean"!=typeof n&&(g=!0),g=n,r):g},r.output=function(){return u},r.x=function(n){return arguments.length?(h=n,r):h},r.y=function(n){return arguments.length?(c=n,r):c},r.data=function(n){return s=n,r},r.frequency=function(n){return arguments.length?("number"!=typeof n&&(console.log("frequency appears to not be a number - changed to 12"),l=12),l=n,r):l},r},M.smooth.ahenderson=function(n,r,t){if("number"!=typeof r)throw new Error("Term must a number");if(r<0)throw new Error("Term must be >0");if("object"!=typeof n||!Array.isArray(n))throw new Error("Filter must be an array");if(t<0)throw new Error("I/C must be >0");var e,o,u=[],i=4/Math.PI/Math.pow(t,2);for(e=0;e<n.length;e++)u.push(0);for(e=0;e<r;e++){var f=0;for(o=r;o<n.length;o++)f+=n[o];var a=0;for(o=r;o<n.length;o++)a+=(o+1-(r+1)/2)*n[o];u[n.length-r+e]=n[e]+1/r*f+(e+1-(r+1)/2)*i/(1+r*(r-1)*(r+1)/12*i)*a}return u},M.smooth.henderson=function(n){if("number"!=typeof n)throw new Error("Term must a number");if(n%2==0)throw new Error("Term must be odd");if(n<0)throw new Error("Term must be >0");var r,t=(n-1)/2,e=[];for(r=-t;r<t+1;r++)e.push(315*((t+1)*(t+1)-r*r)*((t+2)*(t+2)-r*r)*((t+3)*(t+3)-r*r)*(3*(t+2)*(t+2)-11*r*r-16)/(8*(t+2)*((t+2)*(t+2)-1)*(4*(t+2)*(t+2)-1)*(4*(t+2)*(t+2)-9)*(4*(t+2)*(t+2)-25)));return e},M.smooth.EWMA=function(){var t=0,e=[],o=function(n){return n[0]},u=function(n){return n[1]},i=[],f=.3;function r(){var n;e=[],n=i.map(function(n){return[o(n),u(n)]}),t=n.length;for(var r=0;r<t;r++)0===r?e.push(n[r]):e.push([n[r][0],n[r][1]*f+e[r-1][1]*(1-f)])}return r.output=function(){return e},r.x=function(n){return arguments.length?(o=n,r):o},r.y=function(n){return arguments.length?(u=n,r):u},r.data=function(n){return i=n,r},r.factor=function(n){return arguments.length?(f="number"!=typeof n?(console.log("Factor appears to not be a number - changed to 0.3"),.3):1<n||n<0?(console.log("Factor >1 or <0 - changed to 0.3"),.3):n,r):f},r},M.smooth.filter=function(){var u,t,e=0,o=[],i=0,f=function(n){return n[0]},a=function(n){return n[1]},h=[],c=[1/3,1/3,1/3],s=!0,l=-1,g=1,p=!1,m=function(n,r){return M.smooth.ahenderson(n,r,3.5).reverse()},v=function(n,r){return M.smooth.ahenderson(n,r,3.5)};function r(){var n;if(o=[],n=h.map(function(n){return[f(n),a(n)]}),e=n.length,p){if(-l+g+1!==c.length)throw new Error("Filter length is different to length specified by limits")}else g=(l=c.length%2==0?1-Math.floor(c.length/2):-Math.floor(c.length/2),Math.floor(c.length/2));for(u=0;u<e;u++){i=0;var r=[];for(r=!s&&l+u<0?m(c,c.length+u+l):!s&&e-1<u+g?v(c,e-u+g):c.slice(),t=0;t<c.length;t++)s?-1<u+t+l&&u+t+l<e&&(i+=n[u+t+l][1]*r[t]):-1<u+t+l&&u+t+l<e&&(i+=l+u<0?n[u+t+l][1]*r[t+u+l]:e-1<u+g?n[u+t+l][1]*r[t+u-e+1-l]:n[u+t+l][1]*r[t]);s&&-1<u+l&&u+g<e&&o.push([n[u][0],i]),s||o.push([n[u][0],i])}}return r.output=function(){return o},r.x=function(n){return arguments.length?(f=n,r):f},r.y=function(n){return arguments.length?(a=n,r):a},r.data=function(n){return h=n,r},r.filter=function(n){if(!arguments.length)return c;if("object"!=typeof n||!Array.isArray(n))throw new Error("Filter must be an array");return c=n,r},r.limits=function(n){if(!arguments.length)return[l,g];if("object"!=typeof n||!Array.isArray(n))throw new Error("Limits must be an array");if(2!==n.length)throw new Error("Limits must be an array of length 2");if("number"!=typeof n[0]&&"number"!=typeof n[1])throw new Error("Input must be a number");return l=n[0],g=n[1],p=!0,r},r.end=function(n){return arguments.length?(s="boolean"!=typeof s||n,r):s},r.gain=function(n){if("number"!=typeof n)throw new Error("Input must be a number");var r=0,t=0;for(u=0;u<c.length;u++)r+=c[u]*Math.cos(2*(u+l)*Math.PI/n),t+=c[u]*Math.sin(2*(u+l)*Math.PI/n);return Math.sqrt(r*r+t*t)},r.phaseShift=function(n){if("number"!=typeof n)throw new Error("Input must be a number");var r,t,e=0,o=0;for(u=0;u<c.length;u++)e+=c[u]*Math.cos(2*(u+l)*Math.PI/n),o+=c[u]*Math.sin(2*(u+l)*Math.PI/n);return t=o,(0<(r=e)?Math.atan(t/r):r<0&&0<=t?Math.atan(t/r)+Math.PI:r<0&&t<0?Math.atan(t/r)-Math.PI:0===r&&0<t?Math.PI/2:0===r&&t<0?-Math.PI/2:0===r&&0===t?0:Number.NaN)/(2*Math.PI/n)},r.left=function(n){return arguments.length?(m=n,r):m},r.right=function(n){return arguments.length?(v=n,r):v},r},M.smooth.kernel=function(){var f,a=[],h={Uniform:o,Triangle:u,Epanechnikov:t,Quartic:i,Triweight:w,Logistic:e,Cosine:d,Gaussian:n,Tricube:b,Silverman:y},c="Gaussian",s=[],l=[],g=function(n){return n[0]},p=function(n){return n[1]};function r(){var n;a=[],n=s.map(function(n){return[g(n),p(n)]});var r=[];if("number"==typeof l)for(f=0;f<n.length;f++)r.push(l);else{if("object"!=typeof l||!Array.isArray(l))throw console.log(l),new Error("Invalid scale parameter");if(l.length===n.length)r=l.slice();else{var t=0;for(f=0;f<n.length;f++)r.push(l[t]),f<l.length?t++:t=0}}for(f=0;f<n.length;f++){for(var e=0,o=0,u=0;u<n.length;u++){var i;e+=(i=h[c](n[f][0],n[u][0],r[f]))*n[u][1],o+=i}a.push([n[f][0],e/o])}}return r.scale=function(n){return arguments.length?(l=n,r):l},r.kernel=function(n){if(!arguments.length)return c;if("function"!=typeof h[n])throw new Error("Invalid kernel");return c=n,r},r.x=function(n){return arguments.length?(g=n,r):g},r.y=function(n){return arguments.length?(p=n,r):p},r.output=function(){return a},r.data=function(n){return s=n,r},r},M.smooth.kernel2=function(){var f,a,h=[],c={Uniform:o,Triangle:u,Epanechnikov:t,Quartic:i,Triweight:w,Logistic:e,Cosine:d,Gaussian:n,Tricube:b,Silverman:y},s=.001,l=[],g=[],p="Gaussian",m=function(n){return n[0]},v=function(n){return n[1]};function r(){var n;h=[],n=g.map(function(n){return[m(n),v(n)]});var r=[];if("number"==typeof l)for(f=0;f<n.length;f++)r.push(l);else{if("object"!=typeof l||!Array.isArray(l))throw console.log(l),new Error("Invalid scale parameter");if(l.length===n.length)r=l.slice();else{var t=0;for(f=0;f<n.length;f++)r.push(l[t]),f<l.length?t++:t=0}}for(f=0;f<n.length;f++){var e=0,o=0,u=0,i=c[p](n[f][0],n[f][0],r[f]);for(e+=i*n[f][1],o+=i,a=f-1;-1<a&&!((u=c[p](n[f][0],n[a][0],r[f]))/i<s);a--)e+=u*n[a][1],o+=u;for(a=f+1;a<n.length&&!((u=c[p](n[f][0],n[a][0],r[f]))/i<s);a++)e+=u*n[a][1],o+=u;h.push([n[f][0],e/o])}}return r.scale=function(n){return arguments.length?(l=n,r):l},r.kernel=function(n){if(!arguments.length)return p;if("function"!=typeof c[n])throw new Error("Invalid kernel");return p=n,r},r.x=function(n){return arguments.length?(m=n,r):m},r.y=function(n){return arguments.length?(v=n,r):v},r.output=function(){return h},r.diff=function(n){return arguments.length?(s=n,r):s},r.data=function(n){return g=n,r},r},M.smooth.quadraticBig=function(){var r=5,i=2,f=0,a=[],h=function(n){return n[0]},c=function(n){return n[1]},s=[];function t(){var n;a=[],n=s.map(function(n){return[h(n),c(n)]}),f=n.length;for(var r=0;r<f;r++){for(var t=[],e=r-i;e<=r+i;e++)e<0?t.push(n[0]):f-1<e?t.push(n[f-1]):t.push(n[e]);var o=M.reg.polyBig().data(t).order(2);o();var u=o.constants();a.push([n[r][0],u[0]+n[r][0]*u[1]+n[r][0]*n[r][0]*u[2]])}}return t.width=function(n){return arguments.length?("number"!=typeof n?console.log("width appears to not be a number - changed to 5"):(n%2==0&&n--,n<3&&(n=5),r=n,i=Math.floor(n/2)),t):r},t.data=function(n){return s=n,t},t.x=function(n){return arguments.length?(h=n,t):h},t.y=function(n){return arguments.length?(c=n,t):c},t.output=function(){return a},t},M.ts.acf=function(){var o,u,i,f=[],a=0,h=[],c=[],s=function(n){return n[0]},l=function(n){return n[1]},g=[],p=20,m=0;function r(){var n;for(f=[],n=g.map(function(n){return[s(n),l(n)]}),a=n.length,p>n.length-m&&(p=n.length-m,console.log("Not enough points for the number of lags requested. Max lag changed to "+p)),o=0;o<p+1;o++)h.push(o);if(0<m)for(o=0;o<a-1;o++)c.push(n[o][1]-n[o+1][1]);else for(o=0;o<a;o++)c.push(n[o][1]);if(1<m)for(u=0;u<m-1;u++){for(o=0;o<a-1-u;o++)c[o]=c[o]-c[o+1];c.pop()}for(o=0;o<=p;o++){var r=0,t=0,e=0;for(i=0;i<a-m;i++)r=c[i]+r;for(r/=a-m,i=0;i<a-m;i++)i<a-h[o]-m&&(t+=(c[i]-r)*(c[i+h[o]]-r)),e+=Math.pow(c[i]-r,2);f.push([o,t/e])}}return r.output=function(){return f},r.x=function(n){return arguments.length?(s=n,r):s},r.y=function(n){return arguments.length?(l=n,r):l},r.data=function(n){return g=n,r},r.maxlag=function(n){if(!arguments.length)return p;if("number"!=typeof p)throw new Error("maxlag is not a number");return p=n,r},r.diff=function(n){if(!arguments.length)return m;if("number"!=typeof m)throw new Error("diffed is not a number");return m=n,r},r},M.ts.diff=function(n){for(var r=[],t=0;t<n.length-1;t++)r.push([n[t][0],n[t+1][1]-n[t][1]]);return r},M.ts.pacf=function(){var i,f,a,h=[],c=0,s=[],l=[],g=[],p=[],m=function(n){return n[0]},v=function(n){return n[1]},w=[],d=20,b=0;function r(){var n;for(h=[],n=w.map(function(n){return[m(n),v(n)]}),c=n.length,d>n.length-b&&(d=n.length-b,console.log("Not enough points for the number of lags requested. Max lag changed to "+d)),i=0;i<d+1;i++)s.push(i);if(0<b)for(i=0;i<c-1;i++)l.push(n[i][1]-n[i+1][1]);else for(i=0;i<c;i++)l.push(n[i][1]);if(1<b)for(f=0;f<b-1;f++){for(i=0;i<c-1-f;i++)l[i]=l[i]-l[i+1];l.pop()}for(i=0;i<=d;i++){var r=0,t=0,e=0;for(a=0;a<c-b;a++)r=l[a]+r;for(r/=c-b,a=0;a<c-b;a++)a<c-s[i]-b&&(t+=(l[a]-r)*(l[a+s[i]]-r)),e+=Math.pow(l[a]-r,2);g.push(t/e)}for(a=0;a<=d;a++){var o=[];for(f=0;f<=d;f++)o.push(NaN);p.push(o)}for(p[0][0]=1,p[1][1]=g[1],a=2;a<=d;a++){var u=0;for(f=1;f<a;f++)a-1!==f&&0<a-2&&(p[a-1][f]=p[a-2][f]-p[a-1][a-1]*p[a-2][a-1-f]),u+=p[a-1][f]*g[a-f];p[a][a]=(g[a]-u)/(1-u)}for(a=0;a<=d;a++)h.push([s[a],p[s[a]][s[a]]])}return r.output=function(){return h},r.x=function(n){return arguments.length?(m=n,r):m},r.y=function(n){return arguments.length?(v=n,r):v},r.data=function(n){return w=n,r},r.maxlag=function(n){if(!arguments.length)return d;if("number"!=typeof d)throw new Error("maxlag is not a number");return d=n,r},r.diff=function(n){if(!arguments.length)return b;if("number"!=typeof b)throw new Error("diffed is not a number");return b=n,r},r},M.interpString=function(n,r){var t="";if("linear"===n)t=r.join("L");else{if("cubic"!==n)throw new Error("Interpolation not defined = "+n);var e=function(n){var r,t=[],e=[],o=[],u=[],i=[],f=[],a=[],h=[],c=[],s=[];for(r=0;r<n.length-1;r++)t[r]=n[r+1][0]-n[r][0];for(r=1;r<n.length-1;r++)e[r]=3/t[r]*(n[r+1][1]-n[r][1])-3/t[r-1]*(n[r][1]-n[r-1][1]);for(o[0]=1,u[0]=0,i[0]=0,r=1;r<n.length-1;r++)o[r]=2*(n[r+1][0]-n[r-1][0])-t[r-1]*u[r-1],u[r]=t[r]/o[r],i[r]=(e[r]-t[r-1]*i[r-1])/o[r];o[n.length-1]=1,i[n.length-1]=0,f[n.length-1]=0;for(var l=n.length-2;0<=l;l--)f[l]=i[l]-u[l]*f[l+1],h[l]=(n[l+1][1]-n[l][1])/t[l]-t[l]*(f[l+1]+2*f[l])/3,a[l]=(f[l+1]-f[l])/(3*t[l]),c[l]=n[l][1],s[l]=[c[l],h[l],f[l],a[l]];return s}(r);t+=r[0][0]+","+r[0][1];for(var o=1;o<r.length;o++){var u=f(r[o-1],r[o],e[o-1]);t+="C"+u[0][0]+","+u[0][1]+","+u[1][0]+","+u[1][1]+","+r[o][0]+","+r[o][1]}}return t},M.objectToPoints=function(n,t,e){return n.map(function(n){var r=[];return r.push(n[t]),r.push(n[e]),r})},M.pointsToObject=function(n){return n.map(function(n){var r={};return r.x=n[0],r.y=n[1],r})},M.stackMap=function(n,t,e){return n.map(function(n){var r={};return r.x=n[t],r.y=n[e],r})},M.stackMaps=function(n,r,t){for(var e=[],o=0;o<t.length;o++)e.push(this.stackMap(n,r,t[o]));return e},M.toStringArray=function(n){return n.map(function(n){return n[0]+", "+n[1]}).join("\n")},M}();
//# sourceMappingURL=ssci-big.min.js.map