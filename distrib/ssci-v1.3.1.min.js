var ssci=function(){"use strict";var M=M||{};function n(n,r,t){return 1/Math.sqrt(2*Math.PI)*Math.exp(-Math.pow(n-r,2)/(2*Math.pow(t,2)))}function t(n,r,t){return 1<Math.abs((n-r)/t)?0:.75*(1-Math.pow((n-r)/t,2))}function e(n,r,t){return 1/(Math.exp((n-r)/t)+Math.exp(-(n-r)/t))}function o(n,r,t){return 1<Math.abs((n-r)/t)?0:.5}function u(n,r,t){return 1<Math.abs((n-r)/t)?0:1-Math.abs((n-r)/t)}function a(n,r,t){return 1<Math.abs((n-r)/t)?0:.9375*Math.pow(1-Math.pow((n-r)/t,2),2)}function w(n,r,t){return 1<Math.abs((n-r)/t)?0:35/32*Math.pow(1-Math.pow((n-r)/t,2),3)}function b(n,r,t){return 1<Math.abs((n-r)/t)?0:Math.PI/4*Math.cos(Math.PI/2*((n-r)/t))}function d(n,r,t){return 1<Math.abs((n-r)/t)?0:70/81*Math.pow(1-Math.pow(Math.abs((n-r)/t),3),3)}function y(n,r,t){var e=Math.abs((r-n)/t);return.5*Math.exp(-e/Math.SQRT2)*Math.sin(e/Math.SQRT2+Math.PI/4)}function f(n,r,t){var e=[1/3,2/3],o=[(r[0]-n[0])*e[0]+n[0],(r[0]-n[0])*e[1]+n[0]],u=[t[0]+t[1]*(o[0]-n[0])+t[2]*Math.pow(o[0]-n[0],2)+t[3]*Math.pow(o[0]-n[0],3),t[0]+t[1]*(o[1]-n[0])+t[2]*Math.pow(o[1]-n[0],2)+t[3]*Math.pow(o[1]-n[0],3)],a=[(u[0]-Math.pow(1-e[0],3)*n[1]-Math.pow(e[0],3)*r[1])/(3*(1-e[0])*e[0]),(u[1]-Math.pow(1-e[1],3)*n[1]-Math.pow(e[1],3)*r[1])/(3*(1-e[1])*e[1])],f=[];return f[0]=1/(1-e[1]/e[0])*(a[1]-e[1]*a[0]/e[0]),f[1]=(a[0]-(1-e[0])*f[0])/e[0],[[o[0],f[0]],[o[1],f[1]]]}return M.smooth={},M.season={},M.reg={},M.fore={},M.ts={},M.fore.expon=function(){var t=[],e=0,o=[],u=[],a=0,f=.3,i=function(n){return n[0]},h=function(n){return n[1]};function r(){var n,r;for(o=[],r=t.map(function(n){return[i(n),h(n)]}),e=r.length,n=1;n<e+1;n++)n<2?o.push([r[n][0],r[n-1][1]]):n===e?o.push([+r[n-1][0]+(+r[n-1][0]-r[n-2][0]),r[n-1][1]*f+o[n-2][1]*(1-f)]):o.push([r[n][0],r[n-1][1]*f+o[n-2][1]*(1-f)]);for(n=1;n<e;n++)u.push(r[n][1]-o[n-1][1]),a+=Math.pow(r[n][1]-o[n-1][1],2)}return r.x=function(n){return arguments.length?(i=n,r):i},r.y=function(n){return arguments.length?(h=n,r):h},r.data=function(n){return t=n,r},r.factor=function(n){return arguments.length?(f="number"!=typeof n?(console.log("Factor appears to not be a number - changed to 0.3"),.3):1<n||n<0?(console.log("Factor >1 or <0 - changed to 0.3"),.3):n,r):f},r.output=function(){return o},r.residuals=function(){return u},r.sumSquares=function(){return a},r},M.fore.holt=function(){var r=[],t=[],e=0,o=[],u=[],a=0,f=.3,i=.3,h=function(n){return n[0]},c=function(n){return n[1]},l=[],s=[],p={1:function(){return 1/3*(t[1][1]-t[0][1])+(t[2][1]-t[1][1])+(t[3][1]-t[2][1])},2:function(){return M.reg.polyBig(t,1).constants[1]*((t[e-1][0]-t[0][0])/(e-1))},3:function(){return t[1][1]-t[0][1]},4:function(){return(t[e-1][1]-t[0][1])/(e-1)}},g="1";function m(){var n;for(o=[],t=r.map(function(n){return[h(n),c(n)]}),e=t.length,o.push(t[0]),0===l.length&&l.push(t[0][1]),0===s.length&&s.push(p[g]),n=1;n<e;n++)l.push(f*t[n][1]+(1-f)*(l[n-1]+s[n-1])),s.push(i*(l[n]-l[n-1])+(1-i)*s[n-1]),o.push([t[n][0],l[n-1]+s[n-1]]);for(a=0,n=1;n<e;n++)u.push(t[n][1]-o[n][1]),a+=Math.pow(t[n][1]-o[n][1],2)}return m.initialLevel=function(n){return arguments.length?((l=[]).push(n),m):l[0]},m.initialTrend=function(n){return arguments.length?((s=[]).push(n),m):s[0]},m.x=function(n){return arguments.length?(h=n,m):h},m.y=function(n){return arguments.length?(c=n,m):c},m.data=function(n){return r=n,m},m.factor=function(n){return arguments.length?(f="number"!=typeof n?(console.log("Factor appears to not be a number - changed to 0.3"),.3):1<n||n<0?(console.log("Factor >1 or <0 - changed to 0.3"),.3):n,m):f},m.output=function(){return o},m.residuals=function(){return u},m.sumSquares=function(){return a},m.trend=function(n){return arguments.length?(i="number"!=typeof n?(console.log("Trend factor appears to not be a number - changed to 0.3"),.3):1<n||n<0?(console.log("Trend >1 or <0 - changed to 0.3"),.3):n,m):i},m.forecast=function(n){if("number"!=typeof n)throw new Error("Input is not a number");return l[l.length-1]+n*s[s.length-1]},m.initialTrendCalculation=function(n){if(!arguments.length)return g;if("function"!=typeof p[n])throw new Error("Invalid function");return g=n,m},m},M.fore.holtWinter=function(){var r=[],a=[],t=.3,e=.3,o=.3,f=12,u=0,i=function(n){return n[0]},h=function(n){return n[1]},c=0,l=[],s=[],p=[],g=[],m=[];function v(){var n;for(l=[],a=r.map(function(n){return[i(n),h(n)]}),c=a.length,0===p.length&&function(){var n,r=0;for(n=0;n<f;n++)r+=a[n][1];for(n=0;n<f;n++)p.push(r/f)}(),0===g.length&&function(){var n,r=0;for(n=0;n<f;n++)r+=(a[n+f][1]-a[n][1])/f;for(n=0;n<f;n++)g.push(r*(1/f))}(),0===m.length&&function(){var n,r,t=Math.floor(c/f),e=[];for(n=0;n<t;n++){var o=0;for(r=0;r<f;r++)o+=a[r+n*f][1];o/=f,e.push(o)}for(r=0;r<f;r++){var u=0;for(n=0;n<t;n++)u+=a[r+n*f][1]/e[n];m.push(u/t)}}(),n=+f;n<c;n++)p.push(t*a[n][1]/m[n-f]+(1-t)*(p[n-1]+g[n-1])),g.push(e*(p[n]-p[n-1])+(1-e)*g[n-1]),m.push(o*a[n][1]/p[n]+(1-o)*m[n-f]),l.push([a[n][0],(p[n-1]+g[n-1])*m[n-f]]);for(n=+f;n<c;n++)s.push(a[n][1]-l[n-f][1]),u+=Math.pow(a[n][1]-l[n-f][1],2)}return v.initialLevel=function(n){if(!arguments.length)return p[0];p=[];for(var r=0;r<f;r++)p.push(n);return v},v.initialTrend=function(n){if(!arguments.length)return g[0];g=[];for(var r=0;r<f;r++)g.push(n);return v},v.initialSeason=function(n){return arguments.length&&Array.isArray(n)?n.length!==f?NaN:(m=[],m=n,v):m.slice(0,f)},v.period=function(n){return arguments.length?("number"!=typeof f&&(console.log("Period appears to not be a number - changed to 12"),f=12),f=n,v):f},v.data=function(n){if((c=(r=n).length)/2<=f)throw new Error("Not enough data to estimate forecasts - need 2*period of data");return v},v.x=function(n){return arguments.length?(i=n,v):i},v.y=function(n){return arguments.length?(h=n,v):h},v.output=function(){return l},v.outputY=function(){return l.map(function(n){return n[1]})},v.residuals=function(){return s},v.sumSquares=function(){return u},v.level=function(n){return 0===arguments.length?t:("number"!=typeof t&&(console.log("Factor appears to not be a number - changed to 0.3"),t=.3),t=1<t||t<0?(console.log("Factor >1 or <0 - changed to 0.3"),.3):n,v)},v.trend=function(n){return 0===arguments.length?e:("number"!=typeof e&&(console.log("Trend factor appears to not be a number - changed to 0.3"),e=.3),e=1<e||e<0?(console.log("Trend >1 or <0 - changed to 0.3"),.3):n,v)},v.season=function(n){return 0===arguments.length?o:("number"!=typeof o&&(console.log("Seasonal factor appears to not be a number - changed to 0.3"),o=.3),o=1<o||o<0?(console.log("Season >1 or <0 - changed to 0.3"),.3):n,v)},v.forecast=function(n){for(var r=[],t=a[1][0]-a[0][0],e=0;e<n;e++){var o=e%f+1;r.push([+a[c-1][0]+t*(e+1),(p[c-1]+(e+1)*g[c-1])*m[c-1-f+o]])}return r},v},M.reg.determinantBig=function(n){var r,t,e,o,u,a=[];r=(o=n.length)-2,u=new Big(0);for(var f=0;f<=r;f++){for(var i=[],h=0;h<=r;h++)i.push(new Big(0));a.push(i)}for(f=0;f<o;f++){for(var c=e=t=0;c<o;c++){for(var l=0;l<o;l++)l!==f&&c!==r&&(a[t][e]=new Big(n[l][c].valueOf())),l!==f&&t++;t=0,c!==r&&e++}u=0<r?u.plus(n[f][r].times(Math.pow(-1,f+r)).times(M.reg.determinantBig(a))):u.plus(n[f][r].times(Math.pow(-1,f+r)).times(a[0][0]))}return u},M.reg.polyBig=function(){var u,a,f,i,h=[],c=[],l=[],s=[],p=[],g=[],m=[],v=[],w=function(n){return n[0]},b=function(n){return n[1]},d=[],y=2;function r(){var n;for(h=[],n=d.map(function(n){return[w(n),b(n)]}),y>n.length-1&&(y=n.length-1,console.log("Order changed to "+(n.length-1))),a=0;a<n.length;a++){var r=[];r.push(new Big(+n[a][0])),r.push(new Big(+n[a][1])),v.push(r)}for(a=0;a<y+1;a++){var t=[],e=[];for(i=0;i<y+1;i++)t.push(new Big(0)),e.push(new Big(0));l.push(t),s.push(e),p.push(new Big(0))}for(a=0;a<y+1;a++)for(f=0;f<y+1;f++)for(i=0;i<n.length;i++)l[a][f]=l[a][f].plus(v[i][0].pow(a+f));for(f=0;f<y+1;f++)for(i=0;i<n.length;i++)p[f]=p[f].plus(v[i][0].pow(f).times(v[i][1]));if("0"===(u=M.reg.determinantBig(l)).valueOf())throw new Error("Determinant is zero. Fitted line is not calculable.");for(a=0;a<y+1;a++){for(f=0;f<y+1;f++)for(i=0;i<y+1;i++)s[f][i]=i===a?p[f]:l[f][i];g.push(M.reg.determinantBig(s).div(u)),m.push(parseFloat(g[a].valueOf()))}for(i=0;i<n.length;i++){var o=new Big(0);for(f=0;f<y+1;f++)o=o.plus(v[i][0].pow(f).times(g[f]));h.push([n[i][0],o.valueOf()]),c.push(n[i][1]-parseFloat(o.toString()))}}return r.order=function(n){return arguments.length?("number"!=typeof n&&(y=2),n<=0&&(y=2),y=n,r):y},r.output=function(){return h},r.x=function(n){return arguments.length?(w=n,r):w},r.y=function(n){return arguments.length?(b=n,r):b},r.data=function(n){return d=n,r},r.residuals=function(){return c},r.constants=function(){return m},r.forecast=function(n){if("number"!=typeof n)throw new Error("Input is not a number");for(var r=new Big(0),t=0;t<y+1;t++)r=r.plus(v[v.length-1][0].plus(n).pow(t).times(g[t]));return r},r},M.season.average=function(){var i,h=0,c=[],l=function(n){return n[0]},s=function(n){return n[1]},p=[],g=[];function r(){var n;if(c=[],n=p.map(function(n){return[l(n),s(n)]}),h=n.length,"object"!=typeof g||!Array.isArray(g))throw console.log(g),new Error("Invalid label parameter");if(g.length!==n.length)throw console.log(g),new Error("Labels array is not the same length as the data array");var r={},t={},e={},o=0,u=0;for(i=0;i<g.length;i++)g[i]in r?r[g[i]]=r[g[i]]+n[i][1]:r[g[i]]=n[i][1],g[i]in t?t[g[i]]=t[g[i]]+1:t[g[i]]=1,g[i]in e||(e[g[i]]=0),o+=n[i][1],u++;for(var a=Object.keys(e),f=0;f<a.length;f++)e[a[f]]=r[a[f]]*u/(t[a[f]]*o);for(i=0;i<h;i++)c.push([n[i][0],n[i][1]/e[g[i]]])}return r.labels=function(n){return g=n,r},r.output=function(){return c},r.x=function(n){return arguments.length?(l=n,r):l},r.y=function(n){return arguments.length?(s=n,r):s},r.data=function(n){return p=n,r},r},M.season.difference=function(){var t,e=0,o=[],u=[],a=function(n){return n[0]},f=function(n){return n[1]},i=[],h=12;function r(){var n;if(o=[],n=i.map(function(n){return[a(n),f(n)]}),(e=n.length)<h)throw new Error("Not enough data for this frequency");for(t=h;t<e;t++){for(var r=u[t]=0;r<h;r++)u[t]+=n[t-r][1];u[t]/=h}for(t=h;t<e;t++)o.push([n[t][0],n[t][1]-n[t-h][1]+u[t]])}return r.output=function(){return o},r.x=function(n){return arguments.length?(a=n,r):a},r.y=function(n){return arguments.length?(f=n,r):f},r.data=function(n){return i=n,r},r.frequency=function(n){return arguments.length?("number"!=typeof n&&(console.log("frequency appears to not be a number - changed to 12"),h=12),h=n,r):h},r},M.season.movingAverage=function(){var e,o=0,u=[],a=0,f=1,i=[],h=function(n){return n[0]},c=function(n){return n[1]},l=[],s=12,p=!0;function r(){var n;if(u=[],n=l.map(function(n){return[h(n),c(n)]}),(o=n.length)<s)throw new Error("Not enough data for this frequency");var r=Math.floor(s/2);for(e=0;e<s;e++)i[e]=1;for(e=s-1;e<o;e++){a=f=0;for(var t=e-(s-1);t<=e;t++)a+=n[t][1]*i[f],f++;p?u.push([n[e][0],a/s]):u.push([n[e-r+1][0],a/s])}}return r.end=function(n){return arguments.length?("boolean"!=typeof n&&(p=!0),p=n,r):p},r.output=function(){return u},r.x=function(n){return arguments.length?(h=n,r):h},r.y=function(n){return arguments.length?(c=n,r):c},r.data=function(n){return l=n,r},r.frequency=function(n){return arguments.length?("number"!=typeof n&&(console.log("frequency appears to not be a number - changed to 12"),s=12),s=n,r):s},r},M.smooth.ahenderson=function(n,r,t){if("number"!=typeof r)throw new Error("Term must a number");if(r<0)throw new Error("Term must be >0");if("object"!=typeof n||!Array.isArray(n))throw new Error("Filter must be an array");if(t<0)throw new Error("I/C must be >0");var e,o,u=[],a=4/Math.PI/Math.pow(t,2);for(e=0;e<n.length;e++)u.push(0);for(e=0;e<r;e++){var f=0;for(o=r;o<n.length;o++)f+=n[o];var i=0;for(o=r;o<n.length;o++)i+=(o+1-(r+1)/2)*n[o];u[n.length-r+e]=n[e]+1/r*f+(e+1-(r+1)/2)*a/(1+r*(r-1)*(r+1)/12*a)*i}return u},M.smooth.henderson=function(n){if("number"!=typeof n)throw new Error("Term must a number");if(n%2==0)throw new Error("Term must be odd");if(n<0)throw new Error("Term must be >0");var r,t=(n-1)/2,e=[];for(r=-t;r<t+1;r++)e.push(315*((t+1)*(t+1)-r*r)*((t+2)*(t+2)-r*r)*((t+3)*(t+3)-r*r)*(3*(t+2)*(t+2)-11*r*r-16)/(8*(t+2)*((t+2)*(t+2)-1)*(4*(t+2)*(t+2)-1)*(4*(t+2)*(t+2)-9)*(4*(t+2)*(t+2)-25)));return e},M.smooth.EWMA=function(){var t=0,e=[],o=function(n){return n[0]},u=function(n){return n[1]},a=[],f=.3;function r(){var n;e=[],n=a.map(function(n){return[o(n),u(n)]}),t=n.length;for(var r=0;r<t;r++)0===r?e.push(n[r]):e.push([n[r][0],n[r][1]*f+e[r-1][1]*(1-f)])}return r.output=function(){return e},r.x=function(n){return arguments.length?(o=n,r):o},r.y=function(n){return arguments.length?(u=n,r):u},r.data=function(n){return a=n,r},r.factor=function(n){return arguments.length?(f="number"!=typeof n?(console.log("Factor appears to not be a number - changed to 0.3"),.3):1<n||n<0?(console.log("Factor >1 or <0 - changed to 0.3"),.3):n,r):f},r},M.smooth.filter=function(){var u,t,e=0,o=[],a=0,f=function(n){return n[0]},i=function(n){return n[1]},h=[],c=[1/3,1/3,1/3],l=!0,s=-1,p=1,g=!1,m=function(n,r){return M.smooth.ahenderson(n,r,3.5).reverse()},v=function(n,r){return M.smooth.ahenderson(n,r,3.5)};function r(){var n;if(o=[],n=h.map(function(n){return[f(n),i(n)]}),e=n.length,g){if(-s+p+1!==c.length)throw new Error("Filter length is different to length specified by limits")}else p=(s=c.length%2==0?1-Math.floor(c.length/2):-Math.floor(c.length/2),Math.floor(c.length/2));for(u=0;u<e;u++){a=0;var r=[];for(r=!l&&s+u<0?m(c,c.length+u+s):!l&&e-1<u+p?v(c,e-u+p):c.slice(),t=0;t<c.length;t++)l?-1<u+t+s&&u+t+s<e&&(a+=n[u+t+s][1]*r[t]):-1<u+t+s&&u+t+s<e&&(a+=s+u<0?n[u+t+s][1]*r[t+u+s]:e-1<u+p?n[u+t+s][1]*r[t+u-e+1-s]:n[u+t+s][1]*r[t]);l&&-1<u+s&&u+p<e&&o.push([n[u][0],a]),l||o.push([n[u][0],a])}}return r.output=function(){return o},r.x=function(n){return arguments.length?(f=n,r):f},r.y=function(n){return arguments.length?(i=n,r):i},r.data=function(n){return h=n,r},r.filter=function(n){if(!arguments.length)return c;if("object"!=typeof n||!Array.isArray(n))throw new Error("Filter must be an array");return c=n,r},r.limits=function(n){if(!arguments.length)return[s,p];if("object"!=typeof n||!Array.isArray(n))throw new Error("Limits must be an array");if(2!==n.length)throw new Error("Limits must be an array of length 2");if("number"!=typeof n[0]&&"number"!=typeof n[1])throw new Error("Input must be a number");return s=n[0],p=n[1],g=!0,r},r.end=function(n){return arguments.length?(l="boolean"!=typeof l||n,r):l},r.gain=function(n){if("number"!=typeof n)throw new Error("Input must be a number");var r=0,t=0;for(u=0;u<c.length;u++)r+=c[u]*Math.cos(2*(u+s)*Math.PI/n),t+=c[u]*Math.sin(2*(u+s)*Math.PI/n);return Math.sqrt(r*r+t*t)},r.phaseShift=function(n){if("number"!=typeof n)throw new Error("Input must be a number");var r,t,e=0,o=0;for(u=0;u<c.length;u++)e+=c[u]*Math.cos(2*(u+s)*Math.PI/n),o+=c[u]*Math.sin(2*(u+s)*Math.PI/n);return t=o,(0<(r=e)?Math.atan(t/r):r<0&&0<=t?Math.atan(t/r)+Math.PI:r<0&&t<0?Math.atan(t/r)-Math.PI:0===r&&0<t?Math.PI/2:0===r&&t<0?-Math.PI/2:0===r&&0===t?0:Number.NaN)/(2*Math.PI/n)},r.left=function(n){return arguments.length?(m=n,r):m},r.right=function(n){return arguments.length?(v=n,r):v},r},M.smooth.kernel=function(){var f,i=[],h={Uniform:o,Triangle:u,Epanechnikov:t,Quartic:a,Triweight:w,Logistic:e,Cosine:b,Gaussian:n,Tricube:d,Silverman:y},c="Gaussian",l=[],s=[],p=function(n){return n[0]},g=function(n){return n[1]};function r(){var n;i=[],n=l.map(function(n){return[p(n),g(n)]});var r=[];if("number"==typeof s)for(f=0;f<n.length;f++)r.push(s);else{if("object"!=typeof s||!Array.isArray(s))throw console.log(s),new Error("Invalid scale parameter");if(s.length===n.length)r=s.slice();else{var t=0;for(f=0;f<n.length;f++)r.push(s[t]),f<s.length?t++:t=0}}for(f=0;f<n.length;f++){for(var e=0,o=0,u=0;u<n.length;u++){var a;e+=(a=h[c](n[f][0],n[u][0],r[f]))*n[u][1],o+=a}i.push([n[f][0],e/o])}}return r.scale=function(n){return arguments.length?(s=n,r):s},r.kernel=function(n){if(!arguments.length)return c;if("function"!=typeof h[n])throw new Error("Invalid kernel");return c=n,r},r.x=function(n){return arguments.length?(p=n,r):p},r.y=function(n){return arguments.length?(g=n,r):g},r.output=function(){return i},r.data=function(n){return l=n,r},r},M.smooth.kernel2=function(){var f,i,h=[],c={Uniform:o,Triangle:u,Epanechnikov:t,Quartic:a,Triweight:w,Logistic:e,Cosine:b,Gaussian:n,Tricube:d,Silverman:y},l=.001,s=[],p=[],g="Gaussian",m=function(n){return n[0]},v=function(n){return n[1]};function r(){var n;h=[],n=p.map(function(n){return[m(n),v(n)]});var r=[];if("number"==typeof s)for(f=0;f<n.length;f++)r.push(s);else{if("object"!=typeof s||!Array.isArray(s))throw console.log(s),new Error("Invalid scale parameter");if(s.length===n.length)r=s.slice();else{var t=0;for(f=0;f<n.length;f++)r.push(s[t]),f<s.length?t++:t=0}}for(f=0;f<n.length;f++){var e=0,o=0,u=0,a=c[g](n[f][0],n[f][0],r[f]);for(e+=a*n[f][1],o+=a,i=f-1;-1<i&&!((u=c[g](n[f][0],n[i][0],r[f]))/a<l);i--)e+=u*n[i][1],o+=u;for(i=f+1;i<n.length&&!((u=c[g](n[f][0],n[i][0],r[f]))/a<l);i++)e+=u*n[i][1],o+=u;h.push([n[f][0],e/o])}}return r.scale=function(n){return arguments.length?(s=n,r):s},r.kernel=function(n){if(!arguments.length)return g;if("function"!=typeof c[n])throw new Error("Invalid kernel");return g=n,r},r.x=function(n){return arguments.length?(m=n,r):m},r.y=function(n){return arguments.length?(v=n,r):v},r.output=function(){return h},r.diff=function(n){return arguments.length?(l=n,r):l},r.data=function(n){return p=n,r},r},M.smooth.quadraticBig=function(){var r=5,a=2,f=0,i=[],h=function(n){return n[0]},c=function(n){return n[1]},l=[];function t(){var n;i=[],n=l.map(function(n){return[h(n),c(n)]}),f=n.length;for(var r=0;r<f;r++){for(var t=[],e=r-a;e<=r+a;e++)e<0?t.push(n[0]):f-1<e?t.push(n[f-1]):t.push(n[e]);var o=M.reg.polyBig().data(t).order(2);o();var u=o.constants();i.push([n[r][0],u[0]+n[r][0]*u[1]+n[r][0]*n[r][0]*u[2]])}}return t.width=function(n){return arguments.length?("number"!=typeof n?console.log("width appears to not be a number - changed to 5"):(n%2==0&&n--,n<3&&(n=5),r=n,a=Math.floor(n/2)),t):r},t.data=function(n){return l=n,t},t.x=function(n){return arguments.length?(h=n,t):h},t.y=function(n){return arguments.length?(c=n,t):c},t.output=function(){return i},t},M.ts.acf=function(){var o,u,a,f=[],i=0,h=[],c=[],l=function(n){return n[0]},s=function(n){return n[1]},p=[],g=20,m=0;function r(){var n;for(f=[],n=p.map(function(n){return[l(n),s(n)]}),i=n.length,g>n.length-m&&(g=n.length-m,console.log("Not enough points for the number of lags requested. Max lag changed to "+g)),o=0;o<g+1;o++)h.push(o);if(0<m)for(o=0;o<i-1;o++)c.push(n[o][1]-n[o+1][1]);else for(o=0;o<i;o++)c.push(n[o][1]);if(1<m)for(u=0;u<m-1;u++){for(o=0;o<i-1-u;o++)c[o]=c[o]-c[o+1];c.pop()}for(o=0;o<=g;o++){var r=0,t=0,e=0;for(a=0;a<i-m;a++)r=c[a]+r;for(r/=i-m,a=0;a<i-m;a++)a<i-h[o]-m&&(t+=(c[a]-r)*(c[a+h[o]]-r)),e+=Math.pow(c[a]-r,2);f.push([o,t/e])}}return r.output=function(){return f},r.x=function(n){return arguments.length?(l=n,r):l},r.y=function(n){return arguments.length?(s=n,r):s},r.data=function(n){return p=n,r},r.maxlag=function(n){if(!arguments.length)return g;if("number"!=typeof g)throw new Error("maxlag is not a number");return g=n,r},r.diff=function(n){if(!arguments.length)return m;if("number"!=typeof m)throw new Error("diffed is not a number");return m=n,r},r},M.ts.diff=function(n){for(var r=[],t=0;t<n.length-1;t++)r.push([n[t][0],n[t+1][1]-n[t][1]]);return r},M.ts.pacf=function(){var a,f,i,h=[],c=0,l=[],s=[],p=[],g=[],m=function(n){return n[0]},v=function(n){return n[1]},w=[],b=20,d=0;function r(){var n;for(h=[],n=w.map(function(n){return[m(n),v(n)]}),c=n.length,b>n.length-d&&(b=n.length-d,console.log("Not enough points for the number of lags requested. Max lag changed to "+b)),a=0;a<b+1;a++)l.push(a);if(0<d)for(a=0;a<c-1;a++)s.push(n[a][1]-n[a+1][1]);else for(a=0;a<c;a++)s.push(n[a][1]);if(1<d)for(f=0;f<d-1;f++){for(a=0;a<c-1-f;a++)s[a]=s[a]-s[a+1];s.pop()}for(a=0;a<=b;a++){var r=0,t=0,e=0;for(i=0;i<c-d;i++)r=s[i]+r;for(r/=c-d,i=0;i<c-d;i++)i<c-l[a]-d&&(t+=(s[i]-r)*(s[i+l[a]]-r)),e+=Math.pow(s[i]-r,2);p.push(t/e)}for(i=0;i<=b;i++){var o=[];for(f=0;f<=b;f++)o.push(NaN);g.push(o)}for(g[0][0]=1,g[1][1]=p[1],i=2;i<=b;i++){var u=0;for(f=1;f<i;f++)i-1!==f&&0<i-2&&(g[i-1][f]=g[i-2][f]-g[i-1][i-1]*g[i-2][i-1-f]),u+=g[i-1][f]*p[i-f];g[i][i]=(p[i]-u)/(1-u)}for(i=0;i<=b;i++)h.push([l[i],g[l[i]][l[i]]])}return r.output=function(){return h},r.x=function(n){return arguments.length?(m=n,r):m},r.y=function(n){return arguments.length?(v=n,r):v},r.data=function(n){return w=n,r},r.maxlag=function(n){if(!arguments.length)return b;if("number"!=typeof b)throw new Error("maxlag is not a number");return b=n,r},r.diff=function(n){if(!arguments.length)return d;if("number"!=typeof d)throw new Error("diffed is not a number");return d=n,r},r},M.interpString=function(n,r){var t="";if("linear"===n)t=r.join("L");else{if("cubic"!==n)throw new Error("Interpolation not defined = "+n);var e=function(n){var r,t=[],e=[],o=[],u=[],a=[],f=[],i=[],h=[],c=[],l=[];for(r=0;r<n.length-1;r++)t[r]=n[r+1][0]-n[r][0];for(r=1;r<n.length-1;r++)e[r]=3/t[r]*(n[r+1][1]-n[r][1])-3/t[r-1]*(n[r][1]-n[r-1][1]);for(o[0]=1,u[0]=0,a[0]=0,r=1;r<n.length-1;r++)o[r]=2*(n[r+1][0]-n[r-1][0])-t[r-1]*u[r-1],u[r]=t[r]/o[r],a[r]=(e[r]-t[r-1]*a[r-1])/o[r];o[n.length-1]=1,a[n.length-1]=0,f[n.length-1]=0;for(var s=n.length-2;0<=s;s--)f[s]=a[s]-u[s]*f[s+1],h[s]=(n[s+1][1]-n[s][1])/t[s]-t[s]*(f[s+1]+2*f[s])/3,i[s]=(f[s+1]-f[s])/(3*t[s]),c[s]=n[s][1],l[s]=[c[s],h[s],f[s],i[s]];return l}(r);t+=r[0][0]+","+r[0][1];for(var o=1;o<r.length;o++){var u=f(r[o-1],r[o],e[o-1]);t+="C"+u[0][0]+","+u[0][1]+","+u[1][0]+","+u[1][1]+","+r[o][0]+","+r[o][1]}}return t},M.objectToPoints=function(n,t,e){return n.map(function(n){var r=[];return r.push(n[t]),r.push(n[e]),r})},M.pointsToObject=function(n){return n.map(function(n){var r={};return r.x=n[0],r.y=n[1],r})},M.stackMap=function(n,t,e){return n.map(function(n){var r={};return r.x=n[t],r.y=n[e],r})},M.stackMaps=function(n,r,t){for(var e=[],o=0;o<t.length;o++)e.push(this.stackMap(n,r,t[o]));return e},M.toStringArray=function(n){return n.map(function(n){return n[0]+", "+n[1]}).join("\n")},M}();
//# sourceMappingURL=ssci-v1.3.1.min.js.map